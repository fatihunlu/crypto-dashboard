import{A as g}from"./main.esm-B1nZE1NA.js";import{d as _,a as f,o as l,c as m,b as i,u as n,t as y,r as v,e as C,f as x}from"./index-BZJalCp8.js";const S=_("coins",{state:()=>({coins:[],sortField:"market_cap",sortOrder:"desc"}),actions:{async loadCoins(){try{const t=await f.get("https://api.coingecko.com/api/v3/coins/markets",{params:{vs_currency:"usd",order:`${this.sortField}_${this.sortOrder}`,per_page:250,page:1,sparkline:!1}});this.coins=t.data}catch(t){console.error("Error fetching coin data:",t)}},updateSort(t,a){this.sortField=t,this.sortOrder=a,this.loadCoins()}}}),D={class:"coinCell"},F={class:"flex items-center w-20"},w=["src","alt"],A={__name:"CoinCellRenderer",props:["params"],setup(t){const{params:a}=t,e=a.data;return(c,d)=>(l(),m("div",D,[i("div",F,[i("img",{src:n(e).image,alt:n(e).name,class:"w-8 h-8 rounded-full mr-2"},null,8,w),i("span",null,y(n(e).name),1)])]))}},N={__name:"CoinGrid",setup(t){const a=S(),e=r=>{const o=new Intl.NumberFormat("en-US",{style:"decimal",maximumFractionDigits:2});return r.value==null?"":o.format(r.value)},c={type:"fitGridWidth"},d=v([{headerName:"Coin",field:"coin",cellRenderer:A,minWidth:250,maxWidth:450},{headerName:"Price",field:"current_price",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"ATL",field:"atl",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"ATH",field:"ath",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"High 24h",field:"high_24h",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"Low 24h",field:"low_24h",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"Total Volume",field:"total_volume",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"Market Cap",field:"market_cap",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:180}]);a.loadCoins();const h=r=>{const o=r.columns.map(s=>({colId:s.colId,sort:s.sort}));if(o.length>0){const s=o[0].colId,p=o[0].sort;a.updateSort(s,p)}},u=r=>{if(r.newPage){const o=r.api.paginationGetCurrentPage()+1;a.loadCoins(o)}};return(r,o)=>(l(),C(n(g),{rowData:n(a).coins,columnDefs:d.value,style:{height:"520px"},suppressMenuHide:!1,allowDragFromColumnsToolPanel:"",autoSizeStrategy:c,pagination:!0,paginationPageSizeSelector:[10,25,50,100],paginationPageSize:10,class:"ag-theme-quartz",onPaginationChanged:u,onSortChanged:h},null,8,["rowData","columnDefs"]))}},T={class:"w-full min-h-[70vh] h-full p-2 m-2 flex justify-center items-center"},b={class:"w-[65%] h-[80%]"},P={__name:"Coins",setup(t){return(a,e)=>(l(),m("div",T,[i("div",b,[x(N)])]))}};export{P as default};
