import{A as w}from"./main.esm-WmBQyUXs.js";import{d as v,a as y,o as l,c,b as a,u as d,t as _,_ as x,r as g,e as b,f as C,F as k,g as F,h as p}from"./index-BzJT0V_G.js";const S=v("coins",{state:()=>({coins:[],sortField:"market_cap",sortOrder:"desc"}),actions:{async loadCoins(){try{const o=await y.get("https://api.coingecko.com/api/v3/coins/markets",{params:{vs_currency:"usd",order:`${this.sortField}_${this.sortOrder}`,per_page:250,page:1,sparkline:!1}});this.coins=o.data}catch(o){console.error("Error fetching coin data:",o)}},updateSort(o,t){this.sortField=o,this.sortOrder=t,this.loadCoins()}}}),D={class:"coinCell"},N={class:"flex items-center w-20"},T=["src","alt"],$={__name:"CoinCellRenderer",props:["params"],setup(o){const{params:t}=o,e=t.data;return(h,n)=>(l(),c("div",D,[a("div",N,[a("img",{src:d(e).image,alt:d(e).name,class:"w-8 h-8 rounded-full mr-2"},null,8,T),a("span",null,_(d(e).name),1)])]))}},A={__name:"CoinGrid",setup(o){const t=S(),e=s=>{const r=new Intl.NumberFormat("en-US",{style:"decimal",maximumFractionDigits:2});return s.value==null?"":r.format(s.value)},h={type:"fitGridWidth"},n=g([{headerName:"Coin",field:"coin",cellRenderer:$,minWidth:250,maxWidth:450},{headerName:"Price",field:"current_price",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"ATL",field:"atl",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"ATH",field:"ath",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"High 24h",field:"high_24h",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"Low 24h",field:"low_24h",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"Total Volume",field:"total_volume",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"Market Cap",field:"market_cap",valueFormatter:e,cellDataType:"number",type:"rightAligned",maxWidth:180}]);t.loadCoins();const m=s=>{const r=s.columns.map(u=>({colId:u.colId,sort:u.sort}));if(r.length>0){const u=r[0].colId,f=r[0].sort;t.updateSort(u,f)}},i=s=>{if(s.newPage){const r=s.api.paginationGetCurrentPage()+1;t.loadCoins(r)}};return(s,r)=>(l(),b(d(w),{rowData:d(t).coins,columnDefs:n.value,style:{height:"520px"},suppressMenuHide:!1,allowDragFromColumnsToolPanel:"",autoSizeStrategy:h,pagination:!0,paginationPageSizeSelector:[10,25,50,100],paginationPageSize:10,class:"ag-theme-quartz",onPaginationChanged:i,onSortChanged:m},null,8,["rowData","columnDefs"]))}},W=x(A,[["__scopeId","data-v-0c1aff11"]]),P={class:"w-full p-4 bg-white rounded-lg shadow-md overflow-y-auto",style:{height:"520px"}},I=["onClick"],z={class:"flex items-center mb-2"},G=["src"],j={class:"w-[80%] pl-4 font-bold text-lg"},B={class:"text-sm text-gray-600 mb-2 overflow-hidden overflow-ellipsis line-clamp-3"},M={class:"text-xs text-gray-500 mb-2"},O=["href"],V={__name:"NewsSection",setup(o){const t=g([]);async function e(){try{const m=await fetch("./news.json");t.value=await m.json()}catch(n){console.error(n)}}C(e);function h(n){window.open(n,"_blank")}return(n,m)=>(l(),c("div",P,[(l(!0),c(k,null,F(t.value,(i,s)=>(l(),c("div",{key:s,class:"mb-4 cursor-pointer hover:bg-sky-100 rounded-md p-4",onClick:r=>h(i.link)},[a("div",z,[a("img",{src:i.image_url,alt:"News Image",class:"w-[20%] h-20 object-cover rounded-lg"},null,8,G),a("h3",j,_(i.title),1)]),a("p",B,_(i.description),1),a("p",M,_(i.pubDate),1),a("a",{href:i.link,target:"_blank",class:"text-blue-500 hover:underline"},"Read more",8,O)],8,I))),128))]))}},H={class:"w-full min-h-[70vh] h-full p-2 flex justify-center items-center"},L={class:"w-[65%] h-[80%]"},R={class:"w-[30%] h-[80%] pl-8"},q={__name:"Coins",setup(o){return(t,e)=>(l(),c("div",H,[a("div",L,[p(W)]),a("div",R,[p(V)])]))}};export{q as default};
