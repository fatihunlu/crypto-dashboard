import{d as w,a as v,u as y,o as c,c as h,b as a,w as x,e as p,t as m,_ as b,r as g,f as C,A as k,g as D,F,h as S,i as _}from"./index-B3ElrWOa.js";const N=w("coins",{state:()=>({coins:[],sortField:"market_cap",sortOrder:"desc"}),actions:{async loadCoins(){try{const o=await v.get("https://api.coingecko.com/api/v3/coins/markets",{params:{vs_currency:"usd",order:`${this.sortField}_${this.sortOrder}`,per_page:250,page:1,sparkline:!1}});this.coins=o.data}catch(o){console.error("Error fetching coin data:",o)}},updateSort(o,e){this.sortField=o,this.sortOrder=e,this.loadCoins()}}}),T={class:"coinCell"},$=["src"],A={class:"align-middle"},W={__name:"CoinCellRenderer",props:["params"],setup(o){const{params:e}=o,t=y(),l=e.data;function n(){t.push({name:"coin-detail",params:{id:e.data.id}})}return(d,r)=>(c(),h("div",T,[a("div",null,[a("a",{href:"#",onClick:x(n,["prevent"]),class:"text-blue-500 hover:underline"},[a("img",{src:p(l).image,alt:"coin icon",class:"w-6 h-6 inline-block mr-2 align-middle"},null,8,$),a("span",A,m(p(l).name),1)])])]))}},P={__name:"CoinGrid",setup(o){const e=N(),t=s=>{const i=new Intl.NumberFormat("en-US",{style:"decimal",maximumFractionDigits:2});return s.value==null?"":i.format(s.value)},l={type:"fitGridWidth"},n=g([{headerName:"Coin",field:"coin",cellRenderer:W,minWidth:250,maxWidth:450},{headerName:"Price",field:"current_price",valueFormatter:t,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"ATL",field:"atl",valueFormatter:t,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"ATH",field:"ath",valueFormatter:t,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"High 24h",field:"high_24h",valueFormatter:t,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"Low 24h",field:"low_24h",valueFormatter:t,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"Total Volume",field:"total_volume",valueFormatter:t,cellDataType:"number",type:"rightAligned",maxWidth:150},{headerName:"Market Cap",field:"market_cap",valueFormatter:t,cellDataType:"number",type:"rightAligned",maxWidth:180}]);e.loadCoins();const d=s=>{const i=s.columns.map(u=>({colId:u.colId,sort:u.sort}));if(i.length>0){const u=i[0].colId,f=i[0].sort;e.updateSort(u,f)}},r=s=>{if(s.newPage){const i=s.api.paginationGetCurrentPage()+1;e.loadCoins(i)}};return(s,i)=>(c(),C(p(k),{rowData:p(e).coins,columnDefs:n.value,style:{height:"520px"},suppressMenuHide:!1,allowDragFromColumnsToolPanel:"",autoSizeStrategy:l,pagination:!0,paginationPageSizeSelector:[10,25,50,100],paginationPageSize:10,class:"ag-theme-quartz",onPaginationChanged:r,onSortChanged:d},null,8,["rowData","columnDefs"]))}},I=b(P,[["__scopeId","data-v-0c1aff11"]]),z={class:"w-full p-4 bg-white rounded-lg shadow-md overflow-y-auto",style:{height:"520px"}},G=["onClick"],M={class:"flex items-center mb-2"},j=["src"],B={class:"w-[80%] pl-4 font-bold text-lg"},O={class:"text-sm text-gray-600 mb-2 overflow-hidden overflow-ellipsis line-clamp-3"},R={class:"text-xs text-gray-500 mb-2"},V=["href"],H={__name:"NewsSection",setup(o){const e=g([]);async function t(){try{const d=await fetch("./news.json");e.value=await d.json()}catch(n){console.error(n)}}D(t);function l(n){window.open(n,"_blank")}return(n,d)=>(c(),h("div",z,[(c(!0),h(F,null,S(e.value,(r,s)=>(c(),h("div",{key:s,class:"mb-4 cursor-pointer hover:bg-sky-100 rounded-md p-4",onClick:i=>l(r.link)},[a("div",M,[a("img",{src:r.image_url,alt:"News Image",class:"w-[20%] h-20 object-cover rounded-lg"},null,8,j),a("h3",B,m(r.title),1)]),a("p",O,m(r.description),1),a("p",R,m(r.pubDate),1),a("a",{href:r.link,target:"_blank",class:"text-blue-500 hover:underline"},"Read more",8,V)],8,G))),128))]))}},L={class:"w-full min-h-[70vh] h-full p-2 flex justify-center items-center"},U={class:"w-[65%] h-[80%]"},E={class:"w-[30%] h-[80%] pl-8"},J={__name:"Coins",setup(o){return(e,t)=>(c(),h("div",L,[a("div",U,[_(I)]),a("div",E,[_(H)])]))}};export{J as default};
